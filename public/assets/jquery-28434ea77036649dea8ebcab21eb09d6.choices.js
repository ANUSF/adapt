(function(){var a,b,c,d;a=jQuery,b=[],d=function(){return a(b).each(function(){return a(this).css({display:"none"})})},c={field:{click:function(){return!1},focus:function(){var b,c;return b=a(this),c=b.offset(),d,a(b.data("pulldown")).each(function(){var d;d=a(this),d.data("field",b).css({position:"absolute",display:"block"});if(c)return d.css({left:c.left,top:c.top+b.outerHeight()})}),!1},keyup:function(){return a(a(this).data("pulldown")).css({display:"none"})}},pulldown:{click:function(b){var c,d;return c=a(b.target),d=c.hasClass("empty")?"":c.text(),a(a(this).data("field")).val(d).trigger("keyup"),!1}}},a.fn.extend({addPulldown:function(d){var e;return d.bind(c.pulldown).appendTo("body"),e=d.get(0),a.inArray(e,b)<0&&b.push(e),this.each(function(){return a(this).data("pulldown",e).bind(c.field)})}}),a(document).ready(function(){return a("body").click(d)})}).call(this)